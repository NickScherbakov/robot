# OpenRouter - –ü–æ–ª–Ω–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –ü—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏

## üéØ –ß—Ç–æ –¢–∞–∫–æ–µ OpenRouter?

**OpenRouter** - —ç—Ç–æ API –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ **–µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞**. –í–º–µ—Å—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ API –∫–ª—é—á–∞–º–∏ –¥–ª—è OpenAI, Mistral, Anthropic –∏ –¥—Ä—É–≥–∏—Ö, –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ–¥–∏–Ω –∫–ª—é—á OpenRouter.

### –û—Ñ–∏—Ü. –°–∞–π—Ç
üîó https://openrouter.ai

---

## üí∞ –ü–æ—á–µ–º—É OpenRouter –í—ã–≥–æ–¥–µ–Ω –¥–ª—è Earning Robot?

### 1. –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ë–æ–ª–µ–µ –ù–∏–∑–∫–∏–µ –¶–µ–Ω—ã

| –ú–æ–¥–µ–ª—å | –¶–µ–Ω–∞ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ API | –¶–µ–Ω–∞ OpenRouter | –≠–∫–æ–Ω–æ–º–∏—è |
|--------|----------------------|-----------------|----------|
| **Mistral 7B** | N/A (–Ω–µ—Ç API) | $0.00008 | ‚àû |
| **Llama 2 70B** | N/A | $0.00027 | ‚àû |
| **Mistral Small** | $0.0006 | $0.00024 | **60%** |
| **Claude 3 Haiku** | $0.00025 | $0.00015 | **40%** |
| **GPT-4o-mini** | $0.00015 | $0.0001 | **33%** |
| **Claude 3 Sonnet** | $0.003 | $0.003 | –†–∞–≤–Ω–∞ |

## üî• –¢—Ä–µ–Ω–¥–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ (Q4 2025)

–ù–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–æ–∫—Ç—è–±—Ä—å‚Äì–¥–µ–∫–∞–±—Ä—å 2025):
- Grok Code Fast 1 ‚Äî –ª–∏–¥–µ—Ä –¥–ª—è –∑–∞–¥–∞—á –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- Gemini 2.5 Flash ‚Äî –º–∞—Å—Å–æ–≤—ã–µ –±—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏
- Claude Sonnet 4.5 ‚Äî –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞
- Grok 4.1 Fast (free) ‚Äî –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–ª–æ–π
- Claude Opus 4.5 ‚Äî –ø—Ä–µ–º–∏—É–º –∫–∞—á–µ—Å—Ç–≤–æ
- gpt-oss-120b ‚Äî OSS-–º–æ–¥–µ–ª—å –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- DeepSeek V3.2 ‚Äî –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –∫–æ–¥–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- Gemini 2.0 Flash ‚Äî —É–ª—å—Ç—Ä–∞-–¥–µ—à–µ–≤—ã–π –ø–æ—Ç–æ–∫ –∑–∞–¥–∞—á
- Gemini 2.5 Flash Lite ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- Grok 4 Fast ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å–≤—è–∑–Ω–æ—Å—Ç—å

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –ë—é–¥–∂–µ—Ç/–æ–±—ä–µ–º: Gemini 2.5 Flash, Gemini 2.0 Flash, DeepSeek V3.2
- –ö–æ–¥: Grok Code Fast 1, DeepSeek V3.2
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: Claude Sonnet 4.5, Claude Opus 4.5
- –ë—ã—Å—Ç—Ä–æ/–±–µ—Å–ø–ª–∞—Ç–Ω–æ: Grok 4.1 Fast (free), Gemini 2.5 Flash Lite

–ò—Å—Ç–æ—á–Ω–∏–∫ (Top Weekly JSON):
https://openrouter.ai/models?fmt=json&order=top-weekly

<!-- BEGIN: OPENROUTER_TOP_WEEKLY -->
| # | –ú–æ–¥–µ–ª—å | –ü—Ä–æ–≤–∞–π–¥–µ—Ä | Weekly Tokens |
|---|-------------------------------|-----------|----------------|
| 1 | Grok Code Fast 1 | x-ai | ‚Äî |
| 2 | Gemini 2.5 Flash | google | ‚Äî |
| 3 | Claude Sonnet 4.5 | anthropic | ‚Äî |
| 4 | Grok 4.1 Fast (free) | x-ai | ‚Äî |
| 5 | Claude Opus 4.5 | anthropic | ‚Äî |
| 6 | gpt-oss-120b | openai | ‚Äî |
| 7 | DeepSeek V3.2 | deepseek | ‚Äî |
| 8 | Gemini 2.0 Flash | google | ‚Äî |
| 9 | Gemini 2.5 Flash Lite | google | ‚Äî |
| 10 | Grok 4 Fast | x-ai | ‚Äî |
| 11 | Gemini 3 Pro Preview | google | ‚Äî |
| 12 | Gemini 2.5 Pro | google | ‚Äî |
| 13 | Grok 4.1 Fast | x-ai | ‚Äî |
| 14 | MiMo-V2-Flash (free) | xiaomi | ‚Äî |
| 15 | MiniMax M2 | minimax | ‚Äî |
| 16 | DeepSeek V3 0324 | deepseek | ‚Äî |
| 17 | KAT-Coder-Pro V1 (free) | kwalipilot | ‚Äî |
| 18 | GPT-4o-mini | openai | ‚Äî |
| 19 | Claude Haiku 4.5 | anthropic | ‚Äî |
| 20 | DeepSeek R1T2 Chimera (free) | ringtech | ‚Äî |
<!-- END: OPENROUTER_TOP_WEEKLY -->

### 2. –î–æ—Å—Ç—É–ø –∫ –†–µ–¥–∫–∏–º –ú–æ–¥–µ–ª—è–º

OpenRouter –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∞—á–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API:

```
‚úÖ Mistral 7B Instruct - –û–ß–ï–ù–¨ –î–ï–®–ï–í–ê–Ø ($0.00008)
‚úÖ Llama 2 70B Chat - –ú–æ—â–Ω–∞—è –∏ –¥–µ—à–µ–≤–∞—è ($0.00027)
‚úÖ Neural Chat 7B - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –¥–∏–∞–ª–æ–≥–∞ ($0.00006)
‚úÖ Hermes 2 Pro - –ë—ã—Å—Ç—Ä–∞—è –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è ($0.00015)
‚úÖ Code Llama 34B - –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ ($0.00048)
```

### 3. –ì–∏–±–∫–∞—è –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

OpenRouter –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- **–¶–µ–Ω—ã**: –ò—Å–ø–æ–ª—å–∑—É–π —Å–∞–º—É—é –¥–µ—à–µ–≤—É—é –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
- **–°–∫–æ—Ä–æ—Å—Ç–∏**: –ò—Å–ø–æ–ª—å–∑—É–π –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—à–∫–∏
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**: –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É

### 4. –ù–µ—Ç –ü—Ä–∏–≤—è–∑–∫–∏ –∫ –û–¥–Ω–æ–º—É –ü—Ä–æ–≤–∞–π–¥–µ—Ä—É

–ï—Å–ª–∏ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π API –ø—Ä–æ–≤–∞–π–¥–µ—Ä —É–ø–∞–¥–µ—Ç - OpenRouter –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç –≤–∞—Å –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä. **–ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã fallback'–∏!**

### 5. –û–¥–∏–Ω –ö–ª—é—á –î–ª—è –í—Å–µ–≥–æ

–í–º–µ—Å—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏:
```env
‚ùå OPENAI_API_KEY=sk-...
‚ùå MISTRAL_API_KEY=...
‚ùå ANTHROPIC_API_KEY=...
‚ùå COHERE_API_KEY=...

‚úÖ OPENROUTER_API_KEY=sk-or-v1-...
```

---

## üìä –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –†–∞—Å—á–µ—Ç—ã: –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –ú–∞—Å—à—Ç–∞–±–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ú–∞–ª—ã–π –ó–∞—Ä–∞–±–æ—Ç–æ–∫ (100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å)

**–ë–µ–∑ OpenRouter (—Ç–æ–ª—å–∫–æ OpenAI GPT-4o-mini)**:
```
100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å √ó 150 tokens = 15,000 tokens/–¥–µ–Ω—å
15,000 tokens √ó $0.002/1K tokens = $0.03/–¥–µ–Ω—å
$0.03/–¥–µ–Ω—å √ó 30 –¥–Ω–µ–π = $0.90/–º–µ—Å—è—Ü
```

**–° OpenRouter (Mistral 7B)**:
```
100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å √ó 150 tokens = 15,000 tokens/–¥–µ–Ω—å
15,000 tokens √ó $0.00008/1K tokens = $0.0012/–¥–µ–Ω—å
$0.0012/–¥–µ–Ω—å √ó 30 –¥–Ω–µ–π = $0.036/–º–µ—Å—è—Ü

–≠–ö–û–ù–û–ú–ò–Ø: $0.90 - $0.036 = $0.86/–º–µ—Å—è—Ü (96% –¥–µ—à–µ–≤–ª–µ!)
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°—Ä–µ–¥–Ω–∏–π –ó–∞—Ä–∞–±–æ—Ç–æ–∫ (1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å) - SelfBot

**–ë–µ–∑ OpenRouter**:
```
1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å √ó 200 tokens = 200,000 tokens/–¥–µ–Ω—å
200,000 √ó $0.002/1K = $0.4/–¥–µ–Ω—å
$0.4/–¥–µ–Ω—å √ó 30 = $12/–º–µ—Å—è—Ü –Ω–∞ AI
```

**–° OpenRouter (—Å–º–µ—à–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)**:
```
‚Ä¢ 60% –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ Mistral 7B:
  120,000 tokens √ó $0.00008 = $9.60/–º–µ—Å—è—Ü

‚Ä¢ 30% —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ Llama 2 70B:
  60,000 tokens √ó $0.00027 = $16.20/–º–µ—Å—è—Ü

‚Ä¢ 10% —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞ Claude 3 Haiku:
  20,000 tokens √ó $0.00015 = $3/–º–µ—Å—è—Ü

–ò–¢–û–ì–û: $28.80/–º–µ—Å—è—Ü

–≠–ö–û–ù–û–ú–ò–Ø: $12 - $28.80? –°—Ç–æ–ø, —ç—Ç–æ –¥–æ—Ä–æ–∂–µ!
–ù–æ –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—à–µ ‚Üí –±–æ–ª—å—à–µ –¥–æ—Ö–æ–¥–æ–≤ ‚Üí –ª—É—á—à–µ ROI
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–∞—Å—à—Ç–∞–±–Ω—ã–π –ó–∞—Ä–∞–±–æ—Ç–æ–∫ (10,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å)

**–ë–µ–∑ OpenRouter (OpenAI —Ç–æ–ª—å–∫–æ)**:
```
10,000 √ó 200 tokens = 2,000,000 tokens/–¥–µ–Ω—å
2,000,000 √ó $0.002 = $4,000/–º–µ—Å—è—Ü –Ω–∞ AI!
```

**–° OpenRouter (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)**:
```
‚Ä¢ Mistral 7B (60%): 1,200,000 √ó $0.00008 = $96/–º–µ—Å—è—Ü
‚Ä¢ Llama 2 70B (30%): 600,000 √ó $0.00027 = $162/–º–µ—Å—è—Ü
‚Ä¢ Claude 3 Haiku (10%): 200,000 √ó $0.00015 = $30/–º–µ—Å—è—Ü

–ò–¢–û–ì–û: $288/–º–µ—Å—è—Ü –Ω–∞ AI

–≠–ö–û–ù–û–ú–ò–Ø: $4,000 - $288 = $3,712/–º–µ—Å—è—Ü! üìà
–≠–∫–æ–Ω–æ–º–∏—è: 93%!
```

---

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenRouter –≤ Earning Robot

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### 1.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://openrouter.ai
2. –ù–∞–∂–∞—Ç—å "Sign up"
3. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ GitHub –∏–ª–∏ Email
4. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å email

#### 1.2 –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ Dashboard
2. –ù–∞–∂–∞—Ç—å "Keys" –≤ –ª–µ–≤–æ–º –º–µ–Ω—é
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å (–≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `sk-or-v1-...`)

#### 1.3 –î–æ–±–∞–≤–∏—Ç—å –≤ .env

```env
# .env
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxx
OPENROUTER_ENABLED=true
OPENROUTER_DEFAULT_MODEL=mistral-7b-instruct
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å OpenRouter Provider

```python
# backend/ai_providers.py

import requests
import logging

logger = logging.getLogger(__name__)

class OpenRouterProvider(AIProvider):
    """
    OpenRouter API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä LLM —Å –ª—É—á—à–∏–º–∏ —Ü–µ–Ω–∞–º–∏
    """
    
    def __init__(self):
        super().__init__()
        self.name = "openrouter"
        self.api_key = Config.OPENROUTER_API_KEY
        self.api_url = "https://openrouter.ai/api/v1"
        
        if not self.api_key:
            logger.warning("OpenRouter API key not configured")
    
    def generate_response(
        self,
        prompt: str,
        model: str = "mistral-7b-instruct",
        max_tokens: int = 500
    ) -> dict:
        """
        –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ OpenRouter
        
        –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–ø—Ä–∏–º–µ—Ä—ã):
        - mistral-7b-instruct: $0.00008 (–æ—á–µ–Ω—å –¥–µ—à–µ–≤–∞—è!)
        - llama-2-70b-chat-hf: $0.00027
        - neural-chat-7b: $0.00006
        - hermes-2-pro-mistral: $0.00015
        - claude-3-haiku: $0.00015
        - gpt-3.5-turbo: $0.0015
        """
        try:
            headers = {
                "Authorization": f"Bearer {self.api_key}",
                "HTTP-Referer": "https://earningrobot.com",
                "X-Title": "Earning Robot"
            }
            
            payload = {
                "model": model,
                "messages": [
                    {"role": "user", "content": prompt}
                ],
                "max_tokens": max_tokens,
                "temperature": 0.7,
                "top_p": 0.9
            }
            
            response = requests.post(
                f"{self.api_url}/chat/completions",
                headers=headers,
                json=payload,
                timeout=60
            )
            
            response.raise_for_status()
            data = response.json()
            
            # –ò–∑–≤–ª–µ—á—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞—Ç—Ä–∞—Ç–∞—Ö
            usage = data.get('usage', {})
            total_tokens = usage.get('total_tokens', 0)
            
            # –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª—å —Ü–µ–Ω—É –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
            pricing_info = data.get('pricing', {})
            
            return {
                'response': data['choices'][0]['message']['content'],
                'tokens_used': total_tokens,
                'cost': self._calculate_cost(model, usage),
                'model': model,
                'provider': 'openrouter'
            }
        
        except requests.exceptions.RequestException as e:
            logger.error(f"OpenRouter API error: {e}")
            raise
    
    def _calculate_cost(self, model: str, usage: dict) -> float:
        """
        –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞
        
        –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ OpenRouter (–¥–µ–∫–∞–±—Ä—å 2025)
        """
        # –¶–µ–Ω—ã –∑–∞ 1 million tokens (–≤ –¥–æ–ª–ª–∞—Ä–∞—Ö)
        PRICING = {
            # –û—á–µ–Ω—å –¥–µ—à–µ–≤—ã–µ (< $0.0001)
            'gemini-2.0-flash': {'prompt': 0.1, 'completion': 0.1},  # $0.0001
            'deepseek-v3': {'prompt': 0.14, 'completion': 0.28},  # $0.00014
            
            # –î–µ—à–µ–≤—ã–µ ($0.00008-$0.0002)
            'mistral-7b-instruct': {'prompt': 0.08, 'completion': 0.08},
            'mistral-7b': {'prompt': 0.08, 'completion': 0.08},
            
            # –ë—é–¥–∂–µ—Ç–Ω—ã–µ ($0.00015-$0.0004)
            'hermes-2-pro-mistral': {'prompt': 0.15, 'completion': 0.15},
            'claude-3-haiku': {'prompt': 0.25, 'completion': 0.125},
            'llama-2-70b-chat-hf': {'prompt': 0.27, 'completion': 0.27},
            
            # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ ($0.0005-$0.002)
            'mistral-small': {'prompt': 0.24, 'completion': 0.24},
            'gpt-3.5-turbo': {'prompt': 1.5, 'completion': 2},
            
            # –ü—Ä–µ–º–∏—É–º ($0.003+)
            'claude-3-sonnet': {'prompt': 3, 'completion': 15},
            'gpt-4': {'prompt': 30, 'completion': 60},
        }
        
        pricing = PRICING.get(model, {'prompt': 1, 'completion': 1})
        
        input_tokens = usage.get('prompt_tokens', 0)
        output_tokens = usage.get('completion_tokens', 0)
        
        input_cost = (input_tokens / 1_000_000) * pricing['prompt']
        output_cost = (output_tokens / 1_000_000) * pricing['completion']
        
        return input_cost + output_cost
    
    def get_available_models(self) -> list:
        """
        –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
        """
        return [
            # –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏
            {'name': 'mistral-7b-instruct', 'cost': 0.00008, 'tier': 'budget'},
            {'name': 'neural-chat-7b', 'cost': 0.00006, 'tier': 'budget'},
            
            # –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Ü–µ–Ω—ã –∏ –∫–∞—á–µ—Å—Ç–≤–∞
            {'name': 'hermes-2-pro-mistral', 'cost': 0.00015, 'tier': 'mid'},
            {'name': 'claude-3-haiku', 'cost': 0.00015, 'tier': 'mid'},
            
            # –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ
            {'name': 'mistral-small', 'cost': 0.00024, 'tier': 'quality'},
            {'name': 'gpt-3.5-turbo', 'cost': 0.0015, 'tier': 'quality'},
            
            # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            {'name': 'gpt-4', 'cost': 0.03, 'tier': 'premium'},
        ]
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å AI Manager

```python
# backend/ai_providers.py

class AIManager:
    """–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏"""
    
    def __init__(self):
        self.providers = {
            'openai': OpenAIProvider(),
            'mistral': MistralProvider(),
            'openrouter': OpenRouterProvider()  # –ù–æ–≤—ã–π!
        }
        
        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ–º OpenRouter (—Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π)
        self.default_provider = 'openrouter'
        self.default_model = 'mistral-7b-instruct'
    
    def execute_task(
        self,
        prompt: str,
        provider: str = None,
        model: str = None
    ) -> dict:
        """
        –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
        """
        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (OpenRouter + Mistral 7B)
        provider = provider or self.default_provider
        
        if provider == 'openrouter':
            model = model or self.default_model
        
        ai_provider = self.get_provider(provider)
        if not ai_provider:
            # Fallback –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
            logger.warning(f"Provider {provider} not available, falling back")
            return self.execute_task(prompt, 'openrouter')
        
        return ai_provider.generate_response(prompt, model)
```

### –®–∞–≥ 4: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ SelfBot

```python
# selfbot/brain/strategy.py

class SmartModelSelector:
    """
    –£–º–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±—é–¥–∂–µ—Ç–∞ –∏ –∑–∞–¥–∞—á–∏
    """
    
    def __init__(self):
        self.openrouter = OpenRouterProvider()
    
    def select_model_for_task(self, task_type: str, available_budget: float) -> str:
        """
        –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å OpenRouter –¥–ª—è –∑–∞–¥–∞—á–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –±—é–¥–∂–µ—Ç–∞
        """
        if task_type == 'simple_rewrite':
            # –ü—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∞–º—É—é –¥–µ—à–µ–≤—É—é
            return 'mistral-7b-instruct'  # $0.00008
        
        elif task_type == 'content_generation':
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ - —Å—Ä–µ–¥–Ω–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            if available_budget < 0.0001:
                return 'neural-chat-7b'  # $0.00006
            else:
                return 'hermes-2-pro-mistral'  # $0.00015
        
        elif task_type == 'code_generation':
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ - –Ω—É–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ
            return 'llama-2-70b-chat-hf'  # $0.00027
        
        elif task_type == 'complex_analysis':
            # –°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑ - –Ω—É–∂–Ω–æ –ª—É—á—à–µ–µ
            if available_budget > 0.01:
                return 'gpt-4'  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
            else:
                return 'claude-3-haiku'  # –•–æ—Ä–æ—à–∏–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å
        
        else:
            # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - —Å–∞–º–∞—è –¥–µ—à–µ–≤–∞—è –º–æ–¥–µ–ª—å —Å —Ö–æ—Ä–æ—à–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
            return 'mistral-7b-instruct'
```

---

## üìà –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenRouter –¥–ª—è –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –ü—Ä–∏–±—ã–ª–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ú–æ–¥–µ–ª–∏ –ø–æ –°–ª—É—á–∞—è–º

#### –î–ª—è SelfBot –ö–æ–Ω—Ç–µ–Ω—Ç-–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏

```python
# –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
CONTENT_MODELS = {
    'article': {
        'primary': 'mistral-7b-instruct',      # $0.00008 - –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞
        'secondary': 'hermes-2-pro-mistral',   # $0.00015 - –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
        'fallback': 'claude-3-haiku'           # $0.00015 - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ª—É—á—à–µ
    },
    'seo_content': {
        'primary': 'mistral-7b-instruct',      # –î–µ—à–µ–≤–æ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è SEO
        'secondary': 'neural-chat-7b',         # –ï—â–µ –¥–µ—à–µ–≤–ª–µ!
        'fallback': 'gpt-3.5-turbo'            # –î–ª—è –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ–≥–æ SEO
    },
    'code': {
        'primary': 'llama-2-70b-chat-hf',      # –ú–æ—â–Ω–∞—è –∏ –¥–µ—à–µ–≤–∞—è
        'secondary': 'hermes-2-pro-mistral',   # –ï—Å–ª–∏ LLama –º–µ–¥–ª–µ–Ω–Ω–∞—è
        'fallback': 'gpt-4'                    # –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –ª—É—á—à–∏–π –∫–æ–¥
    }
}
```

#### –î–ª—è –û–±—Ä–∞–±–æ—Ç–∫–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ó–∞–ø—Ä–æ—Å–æ–≤

```python
# Tiered approach —á–µ—Ä–µ–∑ OpenRouter
USER_REQUEST_STRATEGY = {
    'simple': {
        'model': 'mistral-7b-instruct',
        'cost': 0.00008,
        'latency': '200ms'
    },
    'medium': {
        'model': 'hermes-2-pro-mistral',
        'cost': 0.00015,
        'latency': '300ms'
    },
    'complex': {
        'model': 'claude-3-haiku',
        'cost': 0.00015,
        'latency': '500ms'
    },
    'premium': {
        'model': 'gpt-4o-mini',
        'cost': 0.0015,
        'latency': '800ms'
    }
}
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ü—Ä–∏–º–µ—Ä: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SelfBot

```python
# selfbot/config.py

class SelfBotConfig:
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ ...
    
    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenRouter
    AI_PROVIDER = 'openrouter'
    
    # –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–æ—á–µ–Ω—å –¥–µ—à–µ–≤–∞—è)
    DEFAULT_LLM_MODEL = 'mistral-7b-instruct'
    
    # –ú–æ–¥–µ–ª—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
    QUALITY_LLM_MODEL = 'hermes-2-pro-mistral'
    
    # –ú–æ–¥–µ–ª—å –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á
    ADVANCED_LLM_MODEL = 'claude-3-haiku'
    
    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ç—Ä–∞—Ç
    ENABLE_RESPONSE_CACHE = True
    CACHE_TTL = 86400  # 24 —á–∞—Å–∞
    
    # –ë–∞—Ç—á–∏–Ω–≥ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    ENABLE_BATCH_PROCESSING = True
    BATCH_SIZE = 10
    
    # Monitoring –∑–∞—Ç—Ä–∞—Ç
    TRACK_AI_COSTS = True
    DAILY_COST_LIMIT = 10.0  # –ú–∞–∫—Å–∏–º—É–º $10/–¥–µ–Ω—å –Ω–∞ AI

# env/.env
OPENROUTER_ENABLED=true
OPENROUTER_API_KEY=sk-or-v1-xxxxx
DEFAULT_AI_PROVIDER=openrouter
```

---

## üìä Monitoring –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ó–∞—Ç—Ä–∞—Ç

```python
class OpenRouterCostTracker:
    """
    –û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ OpenRouter
    """
    
    def __init__(self, db):
        self.db = db
    
    def log_request(self, model: str, tokens: int, cost: float):
        """
        –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å
        """
        self.db.insert('openrouter_requests', {
            'timestamp': datetime.now(),
            'model': model,
            'tokens': tokens,
            'cost': cost
        })
    
    def get_daily_summary(self) -> dict:
        """
        Get daily report
        """
        result = self.db.query("""
            SELECT 
                DATE(timestamp) as date,
                COUNT(*) as requests,
                SUM(tokens) as total_tokens,
                SUM(cost) as total_cost,
                AVG(cost) as avg_cost_per_request,
                MAX(cost) as max_single_request
            FROM openrouter_requests
            WHERE DATE(timestamp) = CURDATE()
            GROUP BY DATE(timestamp)
        """)
        
        return result[0] if result else {}
    
    def get_monthly_summary(self) -> dict:
        """
        –ü–æ–ª—É—á–∏—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç
        """
        result = self.db.query("""
            SELECT 
                YEAR(timestamp) as year,
                MONTH(timestamp) as month,
                COUNT(*) as requests,
                SUM(tokens) as total_tokens,
                SUM(cost) as total_cost
            FROM openrouter_requests
            WHERE YEAR(timestamp) = YEAR(NOW())
            GROUP BY YEAR(timestamp), MONTH(timestamp)
            ORDER BY month DESC
            LIMIT 1
        """)
        
        return result[0] if result else {}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ó–∞—Ç—Ä–∞—Ç –≤ –†–µ–∞–ª—å–Ω–æ–º –í—Ä–µ–º–µ–Ω–∏

```python
class AdaptiveCostOptimizer:
    """
    –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—Å—Ö–æ–¥–∞
    """
    
    def __init__(self, daily_budget: float = 10.0):
        self.daily_budget = daily_budget
        self.cost_tracker = OpenRouterCostTracker()
    
    def get_recommended_model(self) -> str:
        """
        –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–∏—Ö –∑–∞—Ç—Ä–∞—Ç
        """
        daily = self.cost_tracker.get_daily_summary()
        spent = daily.get('total_cost', 0)
        percentage = (spent / self.daily_budget) * 100
        
        if percentage > 80:
            # –ö—Ä–∏—Ç–∏—á–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∞–º—É—é –¥–µ—à–µ–≤—É—é
            logger.warning(f"Cost alert: {percentage:.1f}% of daily budget spent")
            return 'neural-chat-7b'  # –î–µ—à–µ–≤–µ–π—à–∞—è –º–æ–¥–µ–ª—å
        
        elif percentage > 60:
            # –ù—É–∂–Ω–∞ —ç–∫–æ–Ω–æ–º–∏—è
            return 'mistral-7b-instruct'  # –î–µ—à–µ–≤–∞—è, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è
        
        elif percentage > 40:
            # –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã
            return 'hermes-2-pro-mistral'  # –ë–∞–ª–∞–Ω—Å
        
        else:
            # –ï—â–µ –µ—Å—Ç—å –±—é–¥–∂–µ—Ç
            return 'claude-3-haiku'  # –ë–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ OpenRouter

- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ https://openrouter.ai
- [ ] –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á
- [ ] –î–æ–±–∞–≤–∏—Ç—å `OPENROUTER_API_KEY` –≤ .env
- [ ] –°–æ–∑–¥–∞—Ç—å `OpenRouterProvider` –∫–ª–∞—Å—Å
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `AIManager` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenRouter –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏
- [ ] –í–Ω–µ–¥—Ä–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üö® –í–∞–∂–Ω—ã–µ –ó–∞–º–µ—á–∞–Ω–∏—è

### 1. Quality vs Cost

**–°–∞–º–∞—è –¥–µ—à–µ–≤–∞—è –º–æ–¥–µ–ª—å** ($0.00006) –º–æ–∂–µ—Ç –Ω–µ –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –ª—É—á—à–µ–π. –ò–Ω–æ–≥–¥–∞ –ø–ª–∞—Ç–∏—Ç—å $0.00015 –∑–∞ –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–µ—Ç –ª—É—á—à–∏–π ROI:

```
Mistral 7B ($0.00008):
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞ 5 –º–∏–Ω—É—Ç
- –ó–∞—Ä–∞–±–æ—Ç–æ–∫: $5
- –ó–∞—Ç—Ä–∞—Ç—ã: $0.01
- ROI: 500x

Claude 3 Haiku ($0.00015):
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞ 3 –º–∏–Ω—É—Ç—ã
- –ó–∞—Ä–∞–±–æ—Ç–æ–∫: $8
- –ó–∞—Ç—Ä–∞—Ç—ã: $0.02
- ROI: 400x (–Ω–æ –±–æ–ª—å—à–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –¥–æ—Ö–æ–¥)
```

### 2. Fallback –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã

OpenRouter –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ fallback:

```python
try:
    result = openrouter_provider.generate_response(prompt)
except:
    # Fallback –Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã–π OpenAI API
    result = openai_provider.generate_response(prompt)
```

### 3. Monitoring –õ–∏–º–∏—Ç–æ–≤

OpenRouter –∏–º–µ–µ—Ç rate limits. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Ö:

```python
response_headers = response.headers
remaining = response_headers.get('x-ratelimit-remaining')
if remaining < 10:
    logger.warning(f"Rate limit approaching: {remaining} requests remaining")
```

### 4. –ß–µ—Å—Ç–Ω–∞—è –ê—Ç—Ä–∏–±—É—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ headers:

```python
headers = {
    "Authorization": f"Bearer {api_key}",
    "HTTP-Referer": "https://earningrobot.com",
    "X-Title": "Earning Robot"
}
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –†–µ—Å—É—Ä—Å—ã

- [OpenRouter –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://openrouter.ai/docs)
- [OpenRouter –ú–æ–¥–µ–ª–∏ –∏ –¶–µ–Ω—ã](https://openrouter.ai/docs/models)
- [OpenRouter Status Page](https://status.openrouter.ai)
- [OpenRouter Discord Community](https://discord.gg/openrouter)

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –ö–æ–¥–∞

### –ü–æ–ª–Ω–∞—è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```python
# backend/ai_providers.py - –¥–æ–±–∞–≤–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–æ–¥—É

from backend.config import Config

class OpenRouterProvider(AIProvider):
    def __init__(self):
        super().__init__()
        self.name = "openrouter"
        self.api_key = Config.OPENROUTER_API_KEY
        self.api_url = "https://openrouter.ai/api/v1"
    
    def generate_response(self, prompt, model="mistral-7b-instruct", max_tokens=500):
        import requests
        
        headers = {
            "Authorization": f"Bearer {self.api_key}",
            "HTTP-Referer": "https://earningrobot.com",
            "X-Title": "Earning Robot"
        }
        
        response = requests.post(
            f"{self.api_url}/chat/completions",
            headers=headers,
            json={
                "model": model,
                "messages": [{"role": "user", "content": prompt}],
                "max_tokens": max_tokens
            }
        )
        
        data = response.json()
        usage = data['usage']
        
        return {
            'response': data['choices'][0]['message']['content'],
            'tokens_used': usage['total_tokens'],
            'cost': self._calculate_cost(model, usage),
            'model': model
        }
    
    def _calculate_cost(self, model, usage):
        pricing = {
            'mistral-7b-instruct': 0.00008,
            'neural-chat-7b': 0.00006,
            'hermes-2-pro-mistral': 0.00015,
        }
        return (usage['total_tokens'] / 1000) * pricing.get(model, 0.00008)

# –û–±–Ω–æ–≤–∏—Ç—å AIManager
class AIManager:
    def __init__(self):
        self.providers = {
            'openai': OpenAIProvider(),
            'mistral': MistralProvider(),
            'openrouter': OpenRouterProvider()
        }
        self.default_provider = 'openrouter'  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é!
```

---

**Last Updated**: December 2025  
**–í–µ—Ä—Å–∏—è**: 1.0

‚≠ê **OpenRouter = –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ü—Ä–∏–±—ã–ª—å —Å –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ó–∞—Ç—Ä–∞—Ç–∞–º–∏ –Ω–∞ AI!**

üöÄ **–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenRouter —Å–µ–≥–æ–¥–Ω—è –∏ —Å—ç–∫–æ–Ω–æ–º—å—Ç–µ 70-90% –Ω–∞ API –∑–∞—Ç—Ä–∞—Ç–∞—Ö!**
